{"ast":null,"code":"var _jsxFileName = \"/Users/tech16/Desktop/slot_machine/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport myAudio from './dababy.mp3';\nimport text from './text.txt';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction RepeatButton(props) {\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    \"aria-label\": \"Play again.\",\n    id: \"repeatButton\",\n    onClick: props.onClick\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 5\n  }, this);\n}\n\n_c = RepeatButton;\n\nfunction WinningSound() {\n  return /*#__PURE__*/_jsxDEV(\"audio\", {\n    autoplay: \"autoplay\",\n    className: \"player\",\n    preload: \"false\",\n    children: /*#__PURE__*/_jsxDEV(\"source\", {\n      src: \"./dababy.mp3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 5\n  }, this);\n}\n\n_c2 = WinningSound;\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      winner: null,\n      audio: new Audio(myAudio),\n      bg1: null\n    };\n    this.finishHandler = this.finishHandler.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick() {\n    this.setState({\n      winner: null\n    });\n    this.state.audio.play();\n    this.emptyArray();\n\n    this._child1.forceUpdateHandler();\n\n    this._child2.forceUpdateHandler();\n\n    this._child3.forceUpdateHandler();\n  }\n\n  finishHandler(value) {\n    App.matches.push(value);\n\n    if (App.matches.length === 2) {\n      const first = App.matches[0];\n      let results = App.matches.every(match => match === first);\n      this.setState({\n        winner: results\n      });\n    }\n  }\n\n  componentDidMount() {\n    let lines = [];\n\n    for (let i = 0; i < text.split(/\\r?\\n/).length; i++) {\n      lines.push( /*#__PURE__*/_jsxDEV(\"text\", {\n        x: \"0\",\n        y: i * 50,\n        fill: \"black\",\n        \"font-size\": \"20\",\n        children: text.split(/\\r?\\n/)[i]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 18\n      }, this));\n    }\n\n    let bg1 = /*#__PURE__*/_jsxDEV(\"svg\", {\n      height: \"564px\",\n      width: \"128px\",\n      children: lines.map(e => {\n        return e;\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }, this);\n\n    documents.getElementsByClassName('icons').style.background = bg1;\n  }\n\n  emptyArray() {\n    App.matches = [];\n  }\n\n  render() {\n    const {\n      winner\n    } = this.state;\n    let repeatButton = null;\n    let winningSound = null;\n\n    if (winner !== null) {\n      repeatButton = /*#__PURE__*/_jsxDEV(RepeatButton, {\n        onClick: this.handleClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 22\n      }, this);\n    }\n\n    if (winner) {\n      winningSound = /*#__PURE__*/_jsxDEV(WinningSound, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 22\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [winningSound, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `spinner-container`,\n        children: [/*#__PURE__*/_jsxDEV(Spinner, {\n          onFinish: this.finishHandler,\n          ref: child => {\n            this._child1 = child;\n          },\n          timer: \"1000\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Spinner, {\n          onFinish: this.finishHandler,\n          ref: child => {\n            this._child2 = child;\n          },\n          timer: \"1400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Spinner, {\n          onFinish: this.finishHandler,\n          ref: child => {\n            this._child3 = child;\n          },\n          timer: \"1700\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gradient-fade\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), repeatButton]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nApp.matches = [];\n\nclass Spinner extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      position: 0,\n      lastPosition: null\n    };\n    this.multiplier = Math.floor(Math.random() * (4 - 1) + 1);\n    this.start = this.setStartPosition();\n    this.speed = Spinner.iconHeight * this.multiplier;\n    this.forceUpdateHandler = this.forceUpdateHandler.bind(this);\n  }\n\n  forceUpdateHandler() {\n    this.reset();\n  }\n\n  reset() {\n    if (this.timer) {\n      clearInterval(this.timer);\n    }\n\n    this.start = this.setStartPosition();\n    this.setState({\n      position: this.start,\n      timeRemaining: this.props.timer\n    });\n    this.timer = setInterval(() => {\n      this.tick();\n    }, 100);\n  }\n\n  setStartPosition() {\n    return Math.floor(Math.random() * 9) * Spinner.iconHeight * -1;\n  }\n\n  moveBackground() {\n    this.setState({\n      position: this.state.position - this.speed,\n      timeRemaining: this.state.timeRemaining - 100\n    });\n  }\n\n  getSymbolFromPosition() {\n    const totalSymbols = 9;\n    const maxPosition = Spinner.iconHeight * (totalSymbols - 1) * -1;\n    let moved = this.props.timer / 100 * this.multiplier;\n    let startPosition = this.start;\n    let currentPosition = startPosition;\n\n    for (let i = 0; i < moved; i++) {\n      currentPosition -= Spinner.iconHeight;\n\n      if (currentPosition < maxPosition) {\n        currentPosition = 0;\n      }\n    }\n\n    this.props.onFinish(currentPosition);\n  }\n\n  tick() {\n    if (this.state.timeRemaining <= 0) {\n      clearInterval(this.timer);\n      this.getSymbolFromPosition();\n    } else {\n      this.moveBackground();\n    }\n  }\n\n  componentDidMount() {\n    clearInterval(this.timer);\n    this.setState({\n      position: this.start,\n      timeRemaining: this.props.timer\n    });\n    this.timer = setInterval(() => {\n      this.tick();\n    }, 100);\n  }\n\n  render() {\n    let {\n      position\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundPosition: '0px ' + position + 'px'\n        },\n        className: `icons`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nSpinner.iconHeight = 188;\nexport default App;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"RepeatButton\");\n$RefreshReg$(_c2, \"WinningSound\");","map":{"version":3,"sources":["/Users/tech16/Desktop/slot_machine/src/App.js"],"names":["React","myAudio","text","RepeatButton","props","onClick","WinningSound","App","Component","constructor","state","winner","audio","Audio","bg1","finishHandler","bind","handleClick","setState","play","emptyArray","_child1","forceUpdateHandler","_child2","_child3","value","matches","push","length","first","results","every","match","componentDidMount","lines","i","split","map","e","documents","getElementsByClassName","style","background","render","repeatButton","winningSound","child","Spinner","position","lastPosition","multiplier","Math","floor","random","start","setStartPosition","speed","iconHeight","reset","timer","clearInterval","timeRemaining","setInterval","tick","moveBackground","getSymbolFromPosition","totalSymbols","maxPosition","moved","startPosition","currentPosition","onFinish","backgroundPosition"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport myAudio from './dababy.mp3';\nimport text from './text.txt'\nfunction RepeatButton(props) {\n  return (\n    <button\n      aria-label='Play again.'\n      id='repeatButton'\n      onClick={props.onClick}>\n    </button>\n  );\n}\n\nfunction WinningSound() {\n  return (\n    <audio autoplay=\"autoplay\" className=\"player\" preload=\"false\">\n      <source src=\"./dababy.mp3\" />\n    </audio>\n  );\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      winner: null,\n      audio: new Audio(myAudio),\n      bg1: null\n    }\n    this.finishHandler = this.finishHandler.bind(this)\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick() {\n    this.setState({ winner: null });\n    this.state.audio.play()\n    this.emptyArray();\n    this._child1.forceUpdateHandler();\n    this._child2.forceUpdateHandler();\n    this._child3.forceUpdateHandler();\n  }\n\n  static matches = [];\n\n  finishHandler(value) {\n    App.matches.push(value);\n\n    if (App.matches.length === 2) {\n      const first = App.matches[0];\n      let results = App.matches.every(match => match === first)\n      this.setState({ winner: results });\n    }\n  }\n  componentDidMount() {\n    let lines = [];\n    for (let i = 0; i < text.split(/\\r?\\n/).length; i++) {\n      lines.push(<text x='0' y={i * 50} fill='black' font-size='20'>{text.split(/\\r?\\n/)[i]}</text>)\n    }\n    let bg1 = <svg height=\"564px\" width=\"128px\">{lines.map(e => { return e })}</svg>;\n    documents.getElementsByClassName('icons').style.background = bg1;\n  }\n  emptyArray() {\n    App.matches = [];\n  }\n\n  render() {\n    const { winner } = this.state;\n    let repeatButton = null;\n    let winningSound = null;\n\n    if (winner !== null) {\n      repeatButton = <RepeatButton onClick={this.handleClick} />\n    }\n\n    if (winner) {\n      winningSound = <WinningSound />\n    }\n\n    return (\n      <div>\n        {winningSound}\n        <div className={`spinner-container`}>\n          <Spinner onFinish={this.finishHandler} ref={(child) => { this._child1 = child; }} timer=\"1000\" />\n          <Spinner onFinish={this.finishHandler} ref={(child) => { this._child2 = child; }} timer=\"1400\" />\n          <Spinner onFinish={this.finishHandler} ref={(child) => { this._child3 = child; }} timer=\"1700\" />\n          <div className=\"gradient-fade\"></div>\n        </div>\n        {repeatButton}\n      </div>\n    );\n  }\n}\n\nclass Spinner extends React.Component {\n  constructor(props) {\n    super(props);\n    this.forceUpdateHandler = this.forceUpdateHandler.bind(this);\n  };\n\n  forceUpdateHandler() {\n    this.reset();\n  };\n\n  reset() {\n    if (this.timer) {\n      clearInterval(this.timer);\n    }\n\n    this.start = this.setStartPosition();\n\n    this.setState({\n      position: this.start,\n      timeRemaining: this.props.timer\n    });\n\n    this.timer = setInterval(() => {\n      this.tick()\n    }, 100);\n  }\n\n  state = {\n    position: 0,\n    lastPosition: null\n  }\n  static iconHeight = 188;\n  multiplier = Math.floor(Math.random() * (4 - 1) + 1);\n\n  start = this.setStartPosition();\n  speed = Spinner.iconHeight * this.multiplier;\n\n  setStartPosition() {\n    return ((Math.floor((Math.random() * 9))) * Spinner.iconHeight) * -1;\n  }\n\n  moveBackground() {\n    this.setState({\n      position: this.state.position - this.speed,\n      timeRemaining: this.state.timeRemaining - 100\n    })\n  }\n\n  getSymbolFromPosition() {\n    const totalSymbols = 9;\n    const maxPosition = (Spinner.iconHeight * (totalSymbols - 1) * -1);\n    let moved = (this.props.timer / 100) * this.multiplier\n    let startPosition = this.start;\n    let currentPosition = startPosition;\n\n    for (let i = 0; i < moved; i++) {\n      currentPosition -= Spinner.iconHeight;\n\n      if (currentPosition < maxPosition) {\n        currentPosition = 0;\n      }\n    }\n\n    this.props.onFinish(currentPosition);\n  }\n\n  tick() {\n    if (this.state.timeRemaining <= 0) {\n      clearInterval(this.timer);\n      this.getSymbolFromPosition();\n\n    } else {\n      this.moveBackground();\n    }\n  }\n\n  componentDidMount() {\n    clearInterval(this.timer);\n\n    this.setState({\n      position: this.start,\n      timeRemaining: this.props.timer\n    });\n\n    this.timer = setInterval(() => {\n      this.tick()\n    }, 100);\n  }\n\n  render() {\n    let { position } = this.state;\n\n    return (\n      <div>\n        <div\n          style={{ backgroundPosition: '0px ' + position + 'px' }}\n          className={`icons`}\n        />\n      </div>\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}